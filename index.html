<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù‚Ù‡Ø±Ù…Ø§Ù†ÛŒ ØªØ§ Ø¹ÛŒØ¯</title>
<meta name="theme-color" content="#1e3c72">
<style>
body{font-family:Tahoma,sans-serif;background:linear-gradient(135deg,#1e3c72,#2a5298);color:#fff;margin:0;padding:15px}
.container{max-width:540px;margin:auto;background:#ffffff12;backdrop-filter:blur(14px);padding:20px;border-radius:22px}
h1{text-align:center;font-size:20px}
.progress{height:10px;background:#ffffff30;border-radius:10px;overflow:hidden;margin:10px 0}
.bar{height:100%;width:0%;background:#00ffcc;transition:.3s}
.stats{display:flex;justify-content:space-between;font-size:14px;margin-bottom:10px}
.day{background:#ffffff15;padding:12px;border-radius:14px;margin:8px 0;cursor:pointer}
.day.done{background:#00c85155;text-decoration:line-through}
.tasks{display:none;margin-top:8px}
label{display:flex;align-items:center;margin:6px 0;font-size:14px}
input{margin-left:8px;transform:scale(1.2)}
.motivation{text-align:center;margin-top:10px;font-weight:bold;color:#ffeb3b}
</style>
</head>
<body>
<div class="container">
<h1>ğŸ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù‚Ù‡Ø±Ù…Ø§Ù†ÛŒ 25 Ø¨Ù‡Ù…Ù† ØªØ§ 29 Ø§Ø³ÙÙ†Ø¯</h1>
<div class="stats"><span id="points">Ø§Ù…ØªÛŒØ§Ø²: 0</span><span id="streak">Ø§Ø³ØªØ±ÛŒÚ©: 0 Ø±ÙˆØ²</span></div>
<div class="progress"><div class="bar" id="bar"></div></div>
<div id="days"></div>
<div class="motivation" id="motivation"></div>
</div>
<script>
const start=new Date(2026,1,14);
const end=new Date(2026,2,20);
const daysDiv=document.getElementById('days');
const bar=document.getElementById('bar');
const motivation=document.getElementById('motivation');
const pointsEl=document.getElementById('points');
const streakEl=document.getElementById('streak');
let saved=JSON.parse(localStorage.getItem('plan')||'{}');
let meta=JSON.parse(localStorage.getItem('meta')||'{"points":0,"streak":0}');

function formatDate(d){return d.toLocaleDateString('fa-IR',{weekday:'long',day:'numeric',month:'long'})}
function getTasks(date){const w=date.getDay();if(w===4)return['Ø§ØµÙ„Ø§Ø­ÛŒ Ú©Ø§Ù…Ù„ (3Ã—15)','Ù‚Ø¯Ø±ØªÛŒ Ø³Ø¨Ú© (4Ã—15)','Ú©Ø´Ø´ 20 Ø¯Ù‚ÛŒÙ‚Ù‡','ÙˆÛŒØªØ§Ù…ÛŒÙ† + Ø®ÙˆØ§Ø¨'];if(w===5)return['Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ±ÙˆÛŒ Ø³Ø¨Ú©','Ú©Ø´Ø´ Ø¹Ù…ÛŒÙ‚ 30 Ø¯Ù‚ÛŒÙ‚Ù‡','Ø­Ù…Ø§Ù… Ú¯Ø±Ù…','Ø±ÛŒÚ©Ø§ÙˆØ±ÛŒ Ú©Ø§Ù…Ù„'];return['Ø§ØµÙ„Ø§Ø­ÛŒ ØµØ¨Ø­ (3Ã—15)','Ø¨ÙˆÚ©Ø³ 3Ã—3 Ø¯Ù‚ÛŒÙ‚Ù‡','Ø´Ù†Ø§ 5Ã—20 + Ø¯Ø±Ø§Ø²Ù†Ø´Ø³Øª 5Ã—20 + Ø¨Ø§Ø±ÙÛŒÚ©Ø³ 5Ã—10','Ú©Ø´Ø´ 15 Ø¯Ù‚ÛŒÙ‚Ù‡ + ÙˆÛŒØªØ§Ù…ÛŒÙ†â€ŒÙ‡Ø§'];}

function updateStats(){
 const totalDays=(end-start)/86400000+1;
 const doneDays=Object.values(saved).filter(d=>d.done).length;
 bar.style.width=Math.round((doneDays/totalDays)*100)+'%';
 pointsEl.innerText='Ø§Ù…ØªÛŒØ§Ø²: '+meta.points;
 streakEl.innerText='Ø§Ø³ØªØ±ÛŒÚ©: '+meta.streak+' Ø±ÙˆØ²';
 motivation.innerText=doneDays===totalDays?'ğŸ”¥ Ø§ÙØ³Ø§Ù†Ù‡ Ø´Ø¯ÛŒ! Ú©Ù„ Ø¨Ø±Ù†Ø§Ù…Ù‡ ÙÙˆÙ„ Ø´Ø¯':'Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¯Ù‡ Ø³Ù„Ø·Ø§Ù† ğŸ’ª';
 localStorage.setItem('meta',JSON.stringify(meta));
}

let lastDone=null;
for(let d=new Date(start);d<=end;d.setDate(d.getDate()+1)){
 const key=d.toISOString().slice(0,10);
 const day=document.createElement('div');
 day.className='day'+(saved[key]?.done?' done':'');
 day.innerHTML=formatDate(d);
 const tasksDiv=document.createElement('div');tasksDiv.className='tasks';
 const tasks=getTasks(d);
 tasks.forEach((t,i)=>{
  const label=document.createElement('label');
  const cb=document.createElement('input');cb.type='checkbox';cb.checked=saved[key]?.tasks?.[i]||false;
  cb.onchange=()=>{
   saved[key]=saved[key]||{};
   saved[key].tasks=[...tasksDiv.querySelectorAll('input')].map(x=>x.checked);
   const wasDone=saved[key].done;
   saved[key].done=saved[key].tasks.every(Boolean);
   if(!wasDone && saved[key].done){meta.points+=10;meta.streak+=1;}
   if(wasDone && !saved[key].done){meta.streak=Math.max(0,meta.streak-1);}  
   day.classList.toggle('done',saved[key].done);
   localStorage.setItem('plan',JSON.stringify(saved));
   updateStats();
  };
  label.appendChild(cb);label.appendChild(document.createTextNode(t));tasksDiv.appendChild(label);
 });
 day.onclick=()=>tasksDiv.style.display=tasksDiv.style.display?'':'block';
 day.appendChild(tasksDiv);daysDiv.appendChild(day);
}
updateStats();
</script>
</body>
</html>
