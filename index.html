<script>

const calendar = document.getElementById("calendar");
const menu = document.getElementById("menu");
const menuTitle = document.getElementById("menuTitle");
const tasksBox = document.getElementById("tasks");

const days = [
"ุดูุจู","ฺฉุดูุจู","ุฏูุดูุจู","ุณูโุดูุจู","ฺูุงุฑุดูุจู","ูพูุฌุดูุจู","ุฌูุนู"
];

function getProgram(dayNumber){

// ูุญุงุณุจู ุฑูุฒ ููุชู
let weekday = dayNumber % 7;

if(weekday === 5){ // ูพูุฌุดูุจู
return [

"๐ ุตุจุญ | ุงุตูุงุญ ฺฉุงูู ูพุง ูพุฑุงูุชุฒ (ฒฐ ุฏููู ุขุฑุงู)",
"โข ุฑุงู ุฑูุชู ูพูุฌูโุจูโุฏุงุฎู โ ณ ุฏููู",
"โข ุงุณฺฉุงุช ุจุง ุชููพ ุจู ุฒุงูููุง โ 3ร15",
"โข Hip Abduction โ 3ร15 ูุฑ ูพุง",
"โข ฺฉุดุด ูพุดุช ูพุง โ 2ร30 ุซุงูู",

"๐ ุนุตุฑ | ูุฏุฑุช ุณูฺฏู",
"ุดูุง โ 6ร20",
"ุฏุฑุงุฒูุดุณุช โ 6ร20",
"ุจุงุฑูฺฉุณ โ 6ร8",
"ฺฉุดุด ฺฉุงูู โ ฒฐ ุฏููู",

"๐ ูฺฉููโูุง",
"ฺฉูุณู + D ุจุนุฏ ูุงูุงุฑ",
"ููุฒู ุจุนุฏ ุดุงู",
"ARG+ ูุจู ุฎูุงุจ"
];
}

if(weekday === 6){ // ุฌูุนู
return [
"๐ข ุฑฺฉุงูุฑ ฺฉุงูู",
"ูพุงุฏูโุฑู ุณุจฺฉ ณฐ ุฏููู",
"ฺฉุดุด ุฑุดุฏ ูุฏ ุนูู โ ณฐ ุฏููู",
"ุญูุงู ุขุจ ฺฏุฑู + ฺฉุดุด ุฏุงุฎู ุญูุงู",
"โ ุจุฏูู ุชูุฑู ุณูฺฏู",

"๐ ูฺฉููโูุง ุทุจู ุฑูุงู"
];
}

// ุดูุจู ุชุง ฺูุงุฑุดูุจู
return [

"๐ ุตุจุญ | ุงุตูุงุญ (ฑฐโฑต ุฏููู)",
"ุฑุงู ุฑูุชู ูพูุฌูโุจูโุฏุงุฎู โ ฒ ุฏููู",
"ุงุณฺฉุงุช ุชููพ ุจู ุฒุงูููุง โ 3ร15",
"Hip Abduction โ 3ร15 ูุฑ ูพุง",
"ฺฉุดุด ูพุดุช ูพุง โ 2ร30 ุซุงูู",

"๐ฝ ุจุนุฏ ูุงูุงุฑ",
"ฺฉูุณู + ูุชุงูู D (500mg)",

"๐ฅ ุนุตุฑ | ุจูฺฉุณ (ณฐโดฐ ุฏููู)",
"ุทูุงุจ โ ต ุฏููู",
"ุดุงุฏู ุจูฺฉุณ โ 3 ุฑุงูุฏ 3 ุฏููู",
"ุชูุฑู ุถุฑุจู + ุฌุงุฎุงู",
"ุณุฑุฏ ฺฉุฑุฏู โ ต ุฏููู",

"๐ช ุจุฏูุณุงุฒ",
"ุดูุง โ 5ร20",
"ุฏุฑุงุฒูุดุณุช โ 5ร20",
"ุจุงุฑูฺฉุณ โ 5ร10",
"โฑ ุงุณุชุฑุงุญุช 45โ60 ุซุงูู",

"๐ง ฺฉุดุด ุฑุดุฏ ูุฏ (ฑต ุฏููู)",
"ุขูุฒุงู ุดุฏู โ 3ร30ุซ",
"ฺฉุจุฑุง โ 3ร20ุซ",
"ููุณ ูพูุฌู โ 3ร20ุซ",
"ฺฏุฑุจูโุดุชุฑ โ 15 ุชฺฉุฑุงุฑ",
"ุงุณุชุงุฏู ฺฉูุงุฑ ุฏูุงุฑ โ ฒ ุฏููู",

"๐ ุดุจ",
"ููุฒู ุจุนุฏ ุดุงู",
"ARG+ ณฐโถฐ ุฏููู ูุจู ุฎูุงุจ",
"ุฎูุงุจ ูุจู ฑฑ ุดุจ"
];

}

for(let d=25; d<=59; d++){  // 25 ุจููู ุชุง 29 ุงุณููุฏ ุชูุฑุจ
const div=document.createElement("div");
div.className="day";
div.innerText=d;
if(localStorage.getItem("done_"+d)) div.classList.add("done");
div.onclick=()=>openDay(d);
calendar.appendChild(div);
}

function openDay(day){
menu.style.display="block";
menuTitle.innerText="ุจุฑูุงูู ุฑูุฒ "+day;
tasksBox.innerHTML="";

const program=getProgram(day);

program.forEach((t,i)=>{
let id=`${day}_${i}`;
let checked=localStorage.getItem(id)?"checked":"";
tasksBox.innerHTML+=`
<label>
<input type="checkbox" ${checked}
onchange="saveTask(${day},${i},this)">
${t}
</label>`;
});
}

function saveTask(day,i,el){
const key=`${day}_${i}`;
if(el.checked) localStorage.setItem(key,"1");
else localStorage.removeItem(key);
checkDay(day);
}

function checkDay(day){
let program=getProgram(day);
let done=true;
for(let i=0;i<program.length;i++){
if(!localStorage.getItem(`${day}_${i}`)) done=false;
}
if(done){
localStorage.setItem("done_"+day,"1");
document.querySelectorAll(".day").forEach(d=>{
if(d.innerText==day) d.classList.add("done");
});
}
}

function closeMenu(){
menu.style.display="none";
}

</script>
